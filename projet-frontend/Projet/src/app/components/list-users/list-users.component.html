<app-menu></app-menu>

<div class="year-selection-container">
  <label for="yearSelect">Choisissez une année :</label>
  <select
    id="yearSelect"
    [(ngModel)]="selectedYearId"
    (change)="onYearChange()"
  >
    <option *ngFor="let year of years" [value]="year.id">
      {{ year.debut }}
    </option>
    <option value="" selected>2</option>
  </select>
</div>

<div class="main-content">
  <!-- Conteneur de recherche et rôle -->
  <div class="search-and-role-container">
    <div class="search-bar">
      <input type="text" placeholder="Recherche..." [(ngModel)]="searchQuery" />
      <i class="fas fa-search search-icon" (click)="searchTeachers()"></i>
    </div>
    <div class="role">
      <select id="role" [(ngModel)]="selectedRole" (change)="filterByRole()">
        <option value="" disabled selected>Choisir un rôle</option>
        <option *ngFor="let role of roles" [value]="role">{{ role }}</option>
      </select>
    </div>
  </div>

  <!-- Conteneur des utilisateurs -->
  <section [ngSwitch]="view" class="card-content">
    <div *ngSwitchCase="'card'" class="user-grid">
      <app-user-card
        [user]="user"
        (deleteUser)="delete($event)"
        *ngFor="let user of listUsers"
      >
      </app-user-card>
    </div>
    <div *ngSwitchDefault>
      <p>Aucun utilisateur trouvé</p>
    </div>
  </section>

  <!-- Bouton flottant -->
  <section class="buttons-fab" *ngIf="dialogStatus === 'inactive'">
    <button (click)="showDialog()" mat-fab color="accent" class="button-add">
      <i class="material-icons">add</i>
    </button>
  </section>
</div>
