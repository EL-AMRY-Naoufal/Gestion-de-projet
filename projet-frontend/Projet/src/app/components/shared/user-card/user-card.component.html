<mat-card class="mat-whiteframe-2dp">
  <mat-card-title-group>
    <!-- Titre avec le nom d'utilisateur -->
    <mat-card-title>
      <a href="javascript:void(0);">
        <span>{{ user.name }} </span>
        <span>{{ user.firstname }}</span
        ><br />
        <span>{{ user.username }}</span>
      </a>
    </mat-card-title>

    <!-- Sous-titre pour afficher les rôles de l'utilisateur -->
    <mat-card-subtitle>
      <span *ngIf="isYearSelected">
        <ng-container *ngIf="user.roles?.length; else noRoles">
          <span *ngFor="let roleDto of user.roles; let last = last">
            {{ roleDto.role }}
            <!-- Affichage du rôle spécifique -->
            <span *ngIf="!last"><br /></span>
          </span>
        </ng-container>
        <ng-template #noRoles>
          <span>Aucun rôle assigné</span>
        </ng-template>
      </span>
    </mat-card-subtitle>

    <!-- Sous-titre pour l'email de l'utilisateur -->
    <mat-card-subtitle class="contact-info">
      <a
        [href]="'mailto:' + user.email"
        [title]="'Send an email to ' + user.username"
        class="truncate"
      >
        {{ user.email }}
      </a>
    </mat-card-subtitle>
  </mat-card-title-group>

  <!-- Actions (modification et suppression avec icônes personnalisées) -->
  <mat-card-actions class="custom-actions">
    <!-- Lien pour modifier l'utilisateur avec une icône -->
    <div
      class="custom-icon edit-icon"
      *ngIf="userRoles.includes('CHEF_DE_DEPARTEMENT')"
      [routerLink]="['/edit', user.id]"
      title="Edit user"
    >
      ✏️
    </div>

    <!-- Bouton pour supprimer l'utilisateur avec une icône -->
    <!-- <div
      class="custom-icon delete-icon"
      *ngIf="userRoles.includes('CHEF_DE_DEPARTEMENT')"
      (click)="delete(user)"
      title="Delete user"
    >
      🗑️
    </div> -->

    <!-- <div
    class="custom-icon delete-icon"
    *ngIf="userRoles.includes('CHEF_DE_DEPARTEMENT') && hasRoleEnseignant()"
    (click)="showAffectations(user)"
    title="affiche affectation"
        >
      🔍
      </div> -->

  </mat-card-actions>
</mat-card>
